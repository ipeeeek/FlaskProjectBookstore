{% extends 'base.html' %}

{% block content %}
    <h1>Select Address and Payment Method</h1>

    <form method="POST">
        <label for="shipping_address_id">Select Shipping Address</label>
        <select name="shipping_address_id" id="shipping_address_id" required>
            {% if shipping_addresses %}
                {% for address in shipping_addresses %}
                    <option value="{{ address.shipping_address_id }}">
                        {{ address.full_address }}
                    </option>
                {% endfor %}
            {% else %}
                <option disabled>No shipping addresses available</option>
            {% endif %}
        </select>

        <label for="payment_method_id">Select Payment Method</label>
        <select name="payment_method_id" id="payment_method_id" required>
            {% if payment_methods %}
                {% for method in payment_methods %}
                    <option value="{{ method.payment_method_id }}">
                        {{ method.method_name }}
                    </option>
                {% endfor %}
            {% else %}
                <option disabled>No payment methods available</option>
            {% endif %}
        </select>

        <label for="card_number">Card Number</label>
        <input type="text" name="card_number" id="card_number" required placeholder="Enter card number" />

        <label for="expiration_date">Expiration Date (MM/YY)</label>
        <input type="text" name="expiration_date" id="expiration_date" required placeholder="MM/YY" />

        <label for="cvv">CVV</label>
        <input type="text" name="cvv" id="cvv" required placeholder="CVV" />

        <button type="submit">Process Order</button>
    </form>
{% endblock %}
